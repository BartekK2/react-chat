(this.webpackJsonpsocialapp=this.webpackJsonpsocialapp||[]).push([[0],{134:function(e,t,n){},148:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(49),i=n.n(a),s=(n(134),n(0)),o=n.n(s),j=n(4),u=n(16),b=n(24),l=n(52),O=n(194),d=n(195),h=n(196),x=n(188),p=n(198),f=n(199),g=n(190),m=n(191),v=n(79),w=n(109),y=n(27),k=Object(w.a)({apiKey:"AIzaSyD7rk9gUZhOxVAI_M60nqDcDxkpoObftdM",authDomain:"test-36302.firebaseapp.com",projectId:"test-36302",storageBucket:"test-36302.appspot.com",messagingSenderId:"537914014889",appId:"1:537914014889:web:efd2bd04f2eb48a262bdb8"}),S=Object(y.g)(k),C=Object(v.c)(k),I=n(3),U=new y.c,z=new y.a,P=(new y.b,r.a.createContext());function T(){return Object(c.useContext)(P)}function R(e){var t=e.children,n=Object(c.useState)(),r=Object(u.a)(n,2),a=r[0],i=r[1],s=Object(c.useState)(!0),o=Object(u.a)(s,2),j=o[0],b=o[1];Object(c.useEffect)((function(){return Object(y.h)(S,(function(e){i(e),b(!1)}))}),[]);var l={currentUser:a,login:function(e,t){return Object(y.k)(S,e,t)},signup:function(e,t){return Object(y.f)(S,e,t)},logout:function(){return Object(y.n)(S)},resetPassword:function(e){return Object(y.i)(S,e)},updateUserEmail:function(e){return Object(y.o)(a,e)},updateUserPassword:function(e){return Object(y.p)(a,e)},setAuthPersistence:function(e){e?Object(y.j)(S,y.d):Object(y.j)(S,y.e)},getPersistence:function(){return S.persistenceManager.persistence.type},googleSignInWithPopUp:function(){Object(y.l)(S,U)},googleSignInWithRedirect:function(){Object(y.m)(S,U)},facebookSignInWithPopUp:function(){Object(y.l)(S,z),console.log(a)},facebookSignInWithRedirect:function(){Object(y.m)(S,z)}};return Object(I.jsx)(P.Provider,{value:l,children:!j&&t})}var D=n(112),E=n.n(D),W=n(113),F=n.n(W),H=n(114),A=n.n(H);var L=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),i=Object(u.a)(a,2),s=i[0],v=i[1],w=T(),y=w.login,k=w.currentUser,S=w.setAuthPersistence,C=w.getPersistence,U=w.googleSignInWithRedirect,z=w.facebookSignInWithPopUp,P=Object(c.useState)(""),R=Object(u.a)(P,2),D=R[0],W=R[1],H=Object(c.useState)(!1),L=Object(u.a)(H,2),M=L[0],Z=L[1],B=Object(c.useState)(!1),N=Object(u.a)(B,2),J=N[0],K=N[1],$=Object(c.useRef)("");function q(){return(q=Object(j.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,W(""),Z(!0),S($.current.checked),e.next=7,y(n,s);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),W({"auth/wrong-password":"Z\u0142e has\u0142o","auth/user-not-found":"U\u017cytkownik nie istnieje"}[e.t0.code]);case 12:Z(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){K(!/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(n))}),[n]),Object(I.jsxs)(I.Fragment,{children:[k&&Object(I.jsx)(b.a,{to:"/"}),Object(I.jsxs)(O.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",spacing:2,sx:{minWidth:"100vw",minHeight:"100vh"},children:[Object(I.jsx)(O.a,{item:!0,children:Object(I.jsxs)(d.a,{variant:"text",children:[Object(I.jsx)(h.a,{onClick:U,children:Object(I.jsx)(E.a,{})}),Object(I.jsx)(h.a,{onClick:z,children:Object(I.jsx)(F.a,{})}),Object(I.jsx)(h.a,{children:Object(I.jsx)(A.a,{})})]})}),Object(I.jsx)(O.a,{item:!0,children:Object(I.jsx)(x.a,{error:J,onChange:function(e){return r(e.target.value)},label:"Email",variant:"outlined",helperText:J&&"To nie wygl\u0105da jak email"})}),Object(I.jsx)(O.a,{item:!0,children:Object(I.jsx)(x.a,{error:s.length<8,onChange:function(e){return v(e.target.value)},type:"password",label:"Has\u0142o",variant:"outlined",helperText:s.length<8&&"Has\u0142o musi by\u0107 d\u0142u\u017csze"})}),Object(I.jsx)(O.a,{item:!0,children:Object(I.jsx)(h.a,{variant:"contained",disabled:M||J||s.length<8,onClick:function(e){return q.apply(this,arguments)},children:"Zaloguj"})}),Object(I.jsx)(O.a,{item:!0,children:Object(I.jsx)(p.a,{children:Object(I.jsx)(f.a,{control:Object(I.jsx)(g.a,{inputRef:$,defaultChecked:"LOCAL"===C()}),label:"Pami\u0119taj mnie"})})}),Object(I.jsx)(O.a,{item:!0,children:D&&Object(I.jsx)(m.a,{variant:"outlined",sx:{width:"100%"},severity:"error",children:D})}),Object(I.jsx)(O.a,{item:!0,children:Object(I.jsx)(l.b,{to:"/signup",style:{textDecoration:"none",color:"inherit","&:hover":{textDecoration:"underline"}},children:"Nie masz konta? Zarejestruj sie"})})]})]})},M=n(2),Z=n(41),B=n(12),N=n(13),J=n(63);var K=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),i=Object(u.a)(a,2),s=i[0],d=i[1],v=Object(c.useState)(""),w=Object(u.a)(v,2),y=w[0],k=w[1],S=T(),C=S.signup,U=S.currentUser,z=Object(c.useState)(""),P=Object(u.a)(z,2),R=P[0],D=P[1],E=Object(c.useState)(!1),W=Object(u.a)(E,2),F=W[0],H=W[1],A=Object(c.useState)(!0),L=Object(u.a)(A,2),K=L[0],$=L[1],q=Object(c.useRef)(""),G=function(e){Object(B.a)(n,e);var t=Object(N.a)(n);function n(){var e,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Co\u015b z\u0142ego sie sta\u0142o";Object(M.a)(this,n);for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return e=t.call.apply(t,[this].concat(a)),Error.captureStackTrace&&Error.captureStackTrace(Object(Z.a)(e),n),e.code=c,e}return n}(Object(J.a)(Error));function V(){return(V=Object(j.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,D(""),H(!0),q.current.checked){e.next=6;break}throw new G("Nie zgodzi\u0142e\u015b sie na regulamin");case 6:if(s==y){e.next=8;break}throw new G("Has\u0142a sie nie zgadzaj\u0105");case 8:return e.next=10,C(n,s);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),D(e.t0.code);case 15:H(!1);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){$(!/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(n))}),[n]),Object(I.jsxs)(I.Fragment,{children:[U&&Object(I.jsx)(b.a,{to:"/"}),Object(I.jsxs)(O.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",spacing:2,sx:{minWidth:"100vw",minHeight:"100vh"},children:[Object(I.jsx)(O.a,{item:!0,children:Object(I.jsx)(x.a,{error:K,onChange:function(e){return r(e.target.value)},label:"Email",variant:"outlined",helperText:K&&"To nie wygl\u0105da jak email"})}),Object(I.jsx)(O.a,{item:!0,children:Object(I.jsx)(x.a,{error:s.length<8,onChange:function(e){return d(e.target.value)},type:"password",label:"Has\u0142o",variant:"outlined",helperText:s.length<8&&"Has\u0142o musi by\u0107 d\u0142u\u017csze"})}),Object(I.jsx)(O.a,{item:!0,children:Object(I.jsx)(x.a,{error:y.length<8,onChange:function(e){return k(e.target.value)},type:"password",label:"Powt\xf3rz has\u0142o",variant:"outlined",helperText:y.length<8&&"Has\u0142o musi by\u0107 d\u0142u\u017csze"})}),Object(I.jsx)(O.a,{item:!0,children:Object(I.jsx)(h.a,{variant:"contained",disabled:F||K||s.length<8,onClick:function(e){return V.apply(this,arguments)},children:"Zarejestrujs"})}),Object(I.jsx)(O.a,{item:!0,children:Object(I.jsx)(p.a,{children:Object(I.jsx)(f.a,{control:Object(I.jsx)(g.a,{inputRef:q}),label:"Zgadzam sie na regulamin"})})}),R&&Object(I.jsx)(m.a,{severity:"error",children:R}),Object(I.jsxs)(O.a,{item:!0,children:["Masz ju\u017c konto? ",Object(I.jsx)(l.b,{to:"/login",children:"Zaloguj sie"})]})]})]})},$=n(202),q=n(203),G=n(200),V=n(201),_=n(115),Q=n.n(_),X=n(67);var Y=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useRef)(""),i=T().currentUser;function s(){return(s=Object(j.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Object(X.a)(Object(X.b)(C,"messages"),{text:a.current.value,uid:i.uid,createdAt:Object(X.d)(),username:i.displayName,photoURL:i.photoURL});case 3:a.current.value="";case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){Object(X.c)(Object(X.b)(C,"messages"),(function(e){r(e.docs.map((function(e){return e.data()})))}))}),[]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{style:{display:"flex",flexDirection:"column-reverse"},children:n.map((function(e,t){return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("p",{style:{width:"40vh",marginLeft:e.uid==i.uid?"auto":"0"},children:[e.text,"  U\u017cytkownik:",Object(I.jsx)("span",{style:{fontSize:"15px"},children:e.username})]},t)})}))}),Object(I.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginTop:"30px"},children:[Object(I.jsx)(x.a,{inputRef:a}),Object(I.jsx)(h.a,{onClick:function(e){return s.apply(this,arguments)},children:"Wy\u015blij"})]})]})};var ee=function(){var e=T(),t=e.logout;return e.currentUser,Object(I.jsxs)("div",{children:[Object(I.jsx)($.a,{position:"static",children:Object(I.jsxs)(q.a,{children:[Object(I.jsx)(V.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:Object(I.jsx)(Q.a,{})}),Object(I.jsx)(G.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Messenger BK"}),Object(I.jsx)(h.a,{onClick:t,color:"inherit",children:"Wyloguj"})]})}),Object(I.jsx)(Y,{})]})},te=n(187),ne=n(88),ce=n(116),re=["component"];function ae(e){var t=e.component,n=Object(ce.a)(e,re),c=T().currentUser;return Object(I.jsx)(b.b,Object(ne.a)(Object(ne.a)({},n),{},{render:function(e){return c?Object(I.jsx)(t,Object(ne.a)({},e)):Object(I.jsx)(b.a,{to:"/login"})}}))}var ie=n(117),se=n(193),oe=n(56),je=Object(ie.a)({palette:{primary:{main:oe.a[500],contrastText:"#fff"},secondary:{main:oe.a[300]}},components:{MuiOutlinedInput:{styleOverrides:{root:{borderRadius:"15px"},notchedOutline:{borderColor:oe.a[400]}}}}});function ue(e){var t=e.children;return Object(I.jsx)(se.a,{theme:je,children:t})}var be=function(){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(te.a,{}),Object(I.jsx)(l.a,{basename:"/react-chat/",children:Object(I.jsx)(ue,{children:Object(I.jsx)(R,{children:Object(I.jsxs)(b.d,{children:[Object(I.jsx)(ae,{path:"/",exact:!0,component:ee}),Object(I.jsx)(b.b,{path:"/signup",component:K}),Object(I.jsx)(b.b,{path:"/login",component:L})]})})})})]})},le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,204)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};i.a.render(Object(I.jsx)(r.a.StrictMode,{children:Object(I.jsx)(be,{})}),document.getElementById("root")),le()}},[[148,1,2]]]);
//# sourceMappingURL=main.5ee133df.chunk.js.map