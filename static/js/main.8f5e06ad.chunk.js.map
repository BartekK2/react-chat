{"version":3,"sources":["firebaseThings/firebaseSetup.js","firebaseThings/AuthContext.js","components/LoginForm.js","components/RegisterForm.js","components/Chat.js","components/Dashboard.js","components/PrivateRoute.js","ThemeProvider.js","App.js","reportWebVitals.js","index.js"],"names":["app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","getAuth","db","getFirestore","googleProvider","GoogleAuthProvider","facebookProvider","FacebookAuthProvider","AuthContext","GithubAuthProvider","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","value","login","email","password","signInWithEmailAndPassword","signup","createUserWithEmailAndPassword","logout","signOut","resetPassword","sendPasswordResetEmail","updateUserEmail","updateEmail","updateUserPassword","updatePassword","setAuthPersistence","local","setPersistence","browserLocalPersistence","browserSessionPersistence","getPersistence","persistenceManager","persistence","type","googleSignInWithPopUp","signInWithPopup","googleSignInWithRedirect","signInWithRedirect","facebookSignInWithPopUp","facebookSignInWithRedirect","Provider","LoginForm","setEmail","setPassword","error","setError","unvalid","setUnvalid","checkboxRef","useRef","e","a","preventDefault","current","checked","code","test","to","Grid","container","direction","justifyContent","alignItems","spacing","sx","minWidth","minHeight","item","ButtonGroup","variant","Button","onClick","TextField","onChange","target","label","helperText","length","disabled","FormGroup","FormControlLabel","control","Checkbox","inputRef","defaultChecked","Alert","width","severity","style","textDecoration","color","RegisterForm","password2","setPassword2","CustomError","params","Error","captureStackTrace","Chat","messages","setMessages","messageInput","addDoc","collection","text","uid","createdAt","serverTimestamp","username","displayName","photoURL","document","getElementById","scrollTop","scrollHeight","onSnapshot","query","orderBy","doc","docs","map","data","id","display","flexDirection","height","overflowY","message","marginLeft","fontSize","marginTop","Dashboard","AppBar","position","Toolbar","IconButton","size","edge","mr","Typography","component","flexGrow","PrivateRoute","Component","rest","render","props","theme","createTheme","palette","primary","main","green","contrastText","secondary","components","MuiOutlinedInput","styleOverrides","root","borderRadius","notchedOutline","borderColor","ThemeProvider","App","CssBaseline","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.8f5e06ad.chunk.js","sourcesContent":["import { getFirestore } from '@firebase/firestore';\r\nimport { initializeApp } from 'firebase/app';\r\nimport { getAuth } from \"firebase/auth\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyD7rk9gUZhOxVAI_M60nqDcDxkpoObftdM\",\r\n    authDomain: \"test-36302.firebaseapp.com\",\r\n    projectId: \"test-36302\",\r\n    storageBucket: \"test-36302.appspot.com\",\r\n    messagingSenderId: \"537914014889\",\r\n    appId: \"1:537914014889:web:efd2bd04f2eb48a262bdb8\"\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\n\r\nexport default app;\r\nexport const auth = getAuth(app);\r\nexport const db = getFirestore(app)","import React, { useContext, useState, useEffect } from \"react\"\r\nimport { auth } from \"./firebaseSetup\"\r\nimport { \r\n  onAuthStateChanged, signOut, \r\n  signInWithEmailAndPassword, createUserWithEmailAndPassword,\r\n  sendPasswordResetEmail, updateEmail, updatePassword,\r\n  setPersistence, browserLocalPersistence, browserSessionPersistence,\r\n  GoogleAuthProvider, signInWithPopup, signInWithRedirect, FacebookAuthProvider,\r\n  GithubAuthProvider\r\n\r\n} from \"firebase/auth\";\r\n\r\nconst googleProvider = new GoogleAuthProvider();\r\nconst facebookProvider = new FacebookAuthProvider();\r\nconst githubProvider = new GithubAuthProvider();\r\n\r\nconst AuthContext = React.createContext()\r\n\r\nexport function useAuth() {\r\n  return useContext(AuthContext)\r\n}\r\n\r\nexport function AuthProvider({ children }) {\r\n  const [currentUser, setCurrentUser] = useState()\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  function setAuthPersistence(local){\r\n    local? setPersistence(auth, browserLocalPersistence): setPersistence(auth, browserSessionPersistence);\r\n  }\r\n\r\n  function getPersistence(){\r\n    return auth.persistenceManager.persistence.type;\r\n  }\r\n\r\n  function signup(email, password) {\r\n    return createUserWithEmailAndPassword(auth, email, password)\r\n  }\r\n\r\n  function login(email, password) {\r\n    return signInWithEmailAndPassword(auth, email, password)\r\n  }\r\n\r\n  function logout() {\r\n    return signOut(auth)\r\n  }\r\n\r\n  function resetPassword(email) {\r\n    return sendPasswordResetEmail(auth, email)\r\n  }\r\n\r\n  function updateUserEmail(email) {\r\n    return updateEmail(currentUser, email)\r\n  }\r\n\r\n  function updateUserPassword(password) {\r\n    return updatePassword(currentUser, password)\r\n  }\r\n\r\n  function googleSignInWithPopUp(){\r\n    signInWithPopup(auth, googleProvider);\r\n  }\r\n  \r\n  function googleSignInWithRedirect(){\r\n    signInWithRedirect(auth, googleProvider);\r\n  }\r\n  \r\n  function facebookSignInWithPopUp(){\r\n    signInWithPopup(auth, facebookProvider);\r\n  }\r\n  \r\n  function facebookSignInWithRedirect(){\r\n    signInWithRedirect(auth, facebookProvider);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\r\n      setCurrentUser(user)\r\n      setLoading(false)\r\n    })\r\n\r\n    return unsubscribe\r\n  }, [])\r\n\r\n  const value = {\r\n    currentUser,\r\n    login,\r\n    signup,\r\n    logout,\r\n    resetPassword,\r\n    updateUserEmail,\r\n    updateUserPassword,\r\n    setAuthPersistence,\r\n    getPersistence,\r\n    googleSignInWithPopUp,\r\n    googleSignInWithRedirect,\r\n    facebookSignInWithPopUp,\r\n    facebookSignInWithRedirect\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {!loading && children}\r\n    </AuthContext.Provider>\r\n  )\r\n}","import React, {useRef, useState, useEffect} from 'react'\r\nimport { Redirect} from 'react-router'\r\nimport { Link } from 'react-router-dom'\r\nimport { Grid, TextField, Button, FormGroup, FormControlLabel, Checkbox, Alert, ButtonGroup} from '@mui/material'\r\nimport { useAuth } from '../firebaseThings/AuthContext'\r\n// ICONS\r\nimport GoogleIcon from '@mui/icons-material/Google';\r\nimport FacebookIcon from '@mui/icons-material/Facebook';\r\nimport GitHubIcon from '@mui/icons-material/GitHub';\r\n\r\nfunction LoginForm() {\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const { login, currentUser, setAuthPersistence, \r\n        getPersistence, googleSignInWithRedirect,\r\n        facebookSignInWithPopUp,\r\n    } = useAuth()\r\n    const [error, setError] = useState(\"\")\r\n    const [loading, setLoading] = useState(false)\r\n    const [unvalid, setUnvalid] = useState(false)\r\n    const checkboxRef = useRef(\"\")\r\n\r\n    const isEmailValid = () => {\r\n        return /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/.test(email);\r\n    }\r\n\r\n    async function handleSubmit(e) {\r\n      e.preventDefault()\r\n  \r\n      try {\r\n        setError(\"\")\r\n        setLoading(true)\r\n        setAuthPersistence(checkboxRef.current.checked)\r\n        await login(email, password)\r\n      } catch(e) {\r\n        setError({\r\n            \"auth/wrong-password\": \"Złe hasło\",\r\n            \"auth/user-not-found\": \"Użytkownik nie istnieje\"\r\n          }[e.code])   \r\n      }\r\n      setLoading(false)\r\n    }\r\n\r\n    async function providerSignIn(e, func){\r\n        e.preventDefault()\r\n\r\n        try{\r\n            setError(\"\")\r\n            setAuthPersistence(checkboxRef.current.checked)\r\n            await func()\r\n        } catch(e){\r\n            setError({\r\n                \"auth/account-exists-with-different-credential\":\"Konto z tym emailem istnieje używając innego pośrednika\"\r\n            })\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setUnvalid(!isEmailValid())\r\n    }, [email])\r\n\r\n    return (\r\n        <>\r\n            {currentUser&&<Redirect to=\"/\" />}\r\n            <Grid\r\n                container\r\n                direction=\"column\"\r\n                justifyContent=\"center\"\r\n                alignItems=\"center\"\r\n                spacing = {2}\r\n                sx={{ minWidth:'100vw', minHeight:'100vh' }}\r\n            >\r\n                <Grid item>\r\n                    <ButtonGroup variant=\"text\">\r\n                        <Button onClick={googleSignInWithRedirect}><GoogleIcon/></Button>\r\n                        <Button onClick={facebookSignInWithPopUp}><FacebookIcon/></Button>\r\n                        <Button><GitHubIcon/></Button>\r\n                    </ButtonGroup>\r\n                </Grid>\r\n                <Grid item>\r\n                    <TextField error={unvalid} onChange={(e) => setEmail(e.target.value)} \r\n                        label=\"Email\" variant=\"outlined\"\r\n                        helperText={unvalid && \"To nie wygląda jak email\"}/>\r\n                </Grid>\r\n                <Grid item>\r\n                    <TextField error={password.length<8} onChange={(e) => setPassword(e.target.value)}\r\n                        type=\"password\" label=\"Hasło\" variant=\"outlined\"\r\n                        helperText={(password.length<8) && \"Hasło musi być dłuższe\"}/>\r\n                </Grid>\r\n                <Grid item>\r\n                    <Button variant=\"contained\" disabled={loading || unvalid || (password.length<8)} onClick={handleSubmit}>Zaloguj</Button>\r\n                </Grid>\r\n                <Grid item>\r\n                    <FormGroup>\r\n                        <FormControlLabel control={<Checkbox inputRef={checkboxRef} defaultChecked={getPersistence() === \"LOCAL\"} />} label=\"Pamiętaj mnie\" />\r\n                    </FormGroup>          \r\n                </Grid>\r\n                <Grid item>\r\n                    {error && <Alert variant=\"outlined\" sx={{width:'100%'}} severity=\"error\">{error}</Alert>}\r\n                </Grid>\r\n                <Grid item>\r\n                <Link to=\"/signup\" style={{textDecoration:\"none\", color:\"inherit\",\r\n                \"&:hover\":{textDecoration:\"underline\"}}}>Nie masz konta? Zarejestruj sie</Link>\r\n                </Grid>\r\n            </Grid>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default LoginForm\r\n","import React, {useRef, useState, useEffect} from 'react'\r\nimport { Grid, TextField, Button, FormGroup, FormControlLabel, Checkbox, Alert } from '@mui/material'\r\nimport { useAuth } from '../firebaseThings/AuthContext'\r\nimport { Redirect } from 'react-router'\r\nimport { Link } from \"react-router-dom\"\r\n\r\nfunction RegisterForm() {\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const [password2, setPassword2] = useState(\"\")\r\n    const { signup, currentUser } = useAuth()\r\n    const [error, setError] = useState(\"\")\r\n    const [loading, setLoading] = useState(false)\r\n    const [unvalid, setUnvalid] = useState(true)\r\n    const checkboxRef = useRef(\"\")\r\n\r\n    const isEmailValid = () => {\r\n        return /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/.test(email);\r\n    }\r\n\r\n    class CustomError extends Error {\r\n        constructor(code = 'Coś złego sie stało', ...params) {\r\n          super(...params);\r\n          if (Error.captureStackTrace) {\r\n            Error.captureStackTrace(this, CustomError);\r\n          }\r\n          this.code = code;\r\n        }\r\n      }\r\n\r\n    async function handleSubmit(e) {\r\n      e.preventDefault()\r\n  \r\n      try {\r\n        setError(\"\")\r\n        setLoading(true)\r\n        if(!(checkboxRef.current.checked)) throw new CustomError('Nie zgodziłeś sie na regulamin');\r\n        if(password!=password2) throw new CustomError(\"Hasła sie nie zgadzają\");\r\n        await signup(email, password)\r\n      } catch(e) {\r\n        setError(e.code)\r\n      }\r\n      setLoading(false)\r\n    }\r\n\r\n    useEffect(() => {\r\n        setUnvalid(!isEmailValid())\r\n    }, [email])\r\n\r\n    return (\r\n        <>\r\n            {currentUser&&<Redirect to=\"/\" />}\r\n            <Grid\r\n                container\r\n                direction=\"column\"\r\n                justifyContent=\"center\"\r\n                alignItems=\"center\"\r\n                spacing = {2}\r\n                sx={{ minWidth:'100vw', minHeight:'100vh' }}\r\n            >     \r\n                <Grid item>\r\n                    <TextField error={unvalid} onChange={(e) => setEmail(e.target.value)} \r\n                        label=\"Email\" variant=\"outlined\" helperText={unvalid && \"To nie wygląda jak email\"}/>\r\n                </Grid>\r\n\r\n                <Grid item>\r\n                    <TextField error={password.length<8} onChange={(e) => setPassword(e.target.value)} type=\"password\" \r\n                    label=\"Hasło\" variant=\"outlined\" helperText={(password.length<8) && \"Hasło musi być dłuższe\"} />\r\n                </Grid>\r\n\r\n                <Grid item>\r\n                    <TextField error={password2.length<8} onChange={(e) => setPassword2(e.target.value)} type=\"password\" \r\n                    label=\"Powtórz hasło\" variant=\"outlined\" helperText={(password2.length<8) && \"Hasło musi być dłuższe\"}/>\r\n                </Grid>\r\n\r\n                <Grid item>\r\n                    <Button variant=\"contained\" disabled={loading || unvalid || password.length<8} onClick={handleSubmit}>Zarejestrujs</Button>\r\n                </Grid>\r\n                <Grid item>\r\n                    <FormGroup>\r\n                        <FormControlLabel control={<Checkbox inputRef={checkboxRef} />} label=\"Zgadzam sie na regulamin\" />\r\n                    </FormGroup>                \r\n                </Grid>\r\n                {error && <Alert severity=\"error\">{error}</Alert>}\r\n                <Grid item>\r\n                    Masz już konto? <Link to=\"/login\">Zaloguj sie</Link>\r\n                </Grid>\r\n            </Grid>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default RegisterForm\r\n","import React, {useState, useEffect, useRef} from 'react'\r\nimport {db} from \"../firebaseThings/firebaseSetup\"\r\nimport { collection, onSnapshot, addDoc, serverTimestamp, query, orderBy, } from \"firebase/firestore\";\r\nimport { TextField, Button } from '@mui/material';\r\nimport {useAuth} from \"../firebaseThings/AuthContext\"\r\nimport {auth} from \"../firebaseThings/firebaseSetup\"\r\n\r\nfunction Chat() {\r\n    const [messages, setMessages] = useState([])\r\n    const messageInput = useRef(\"\");\r\n    const {currentUser} = useAuth()\r\n\r\n    useEffect(() => {\r\n        onSnapshot(query(collection(db, \"messages\"),orderBy(\"createdAt\")), (doc) => {\r\n            setMessages(doc.docs.map(doc => doc.data()));\r\n        });\r\n    },[])\r\n\r\n    async function submitMessage(e){\r\n        e.preventDefault()\r\n\r\n        await addDoc(collection(db, \"messages\"), {\r\n            text: messageInput.current.value,\r\n            uid: currentUser.uid,\r\n            createdAt: serverTimestamp(),\r\n            username: currentUser.displayName,\r\n            photoURL: currentUser.photoURL,\r\n            email: currentUser.email\r\n          });\r\n\r\n        messageInput.current.value = \"\"\r\n        document.getElementById(\"chat\").scrollTop = document.getElementById(\"chat\").scrollHeight;\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <div id=\"chat\" style={{display:'flex',flexDirection:'column',height:'70vh',overflowY:'auto'}}>\r\n                {messages.map((message,id)=>{\r\n                    return (<><p \r\n                        style={{width:'40vh', marginLeft: message.uid==currentUser.uid? 'auto':'0'}} key={id}>\r\n                        {message.text}  Użytkownik:<span style={{fontSize:'15px'}}>{message.username || message.email}</span></p></>)\r\n                })}\r\n                \r\n            </div>\r\n            <div style={{display:'flex',justifyContent:'center',marginTop:'30px'}}>\r\n            <TextField inputRef={messageInput}/>\r\n            <Button onClick={submitMessage}>Wyślij</Button></div>\r\n        </>\r\n        \r\n    )\r\n}\r\n\r\nexport default Chat\r\n","import React, {useEffect} from 'react'\r\nimport { Button, AppBar, Toolbar, Typography, TextField } from '@mui/material'\r\nimport IconButton from '@mui/material/IconButton';\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport {useAuth} from \"../firebaseThings/AuthContext\"\r\nimport Chat from './Chat';\r\n\r\n\r\n\r\nfunction Dashboard() {\r\n    const {logout, currentUser} = useAuth();\r\n\r\n    return (\r\n        <div>\r\n            <AppBar position=\"static\">\r\n                <Toolbar>\r\n                <IconButton\r\n                    size=\"large\"\r\n                    edge=\"start\"\r\n                    color=\"inherit\"\r\n                    aria-label=\"menu\"\r\n                    sx={{ mr: 2 }}\r\n                >\r\n                    <MenuIcon />\r\n                </IconButton>\r\n                <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\r\n                    Messenger BK\r\n                </Typography>\r\n                <Button onClick={logout} color=\"inherit\">Wyloguj</Button>\r\n                </Toolbar>\r\n            </AppBar>\r\n            <Chat></Chat>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dashboard\r\n","import React from \"react\"\r\nimport { Route, Redirect } from \"react-router-dom\"\r\nimport { useAuth } from \"../firebaseThings/AuthContext\"\r\n\r\nexport default function PrivateRoute({ component: Component, ...rest }) {\r\n  const { currentUser } = useAuth()\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props => {\r\n        return currentUser ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n      }}\r\n    ></Route>\r\n  )\r\n}","import { createTheme, ThemeProvider as TP } from '@mui/material/styles';\r\nimport { green, purple } from '@mui/material/colors';\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: green[500],\r\n      contrastText: '#fff',\r\n    },\r\n    secondary: {\r\n      main: green[300],\r\n    },\r\n\r\n  },\r\n  components:{\r\n    MuiOutlinedInput:{\r\n        styleOverrides: {\r\n            // Name of the slot\r\n            root: {\r\n              // Some CSS\r\n              borderRadius: '15px',\r\n            },\r\n            notchedOutline:{\r\n              borderColor:green[400]\r\n            }\r\n          },\r\n    }\r\n  }\r\n});\r\n\r\nexport function ThemeProvider({ children }) {\r\n    return (\r\n        <TP theme={theme}>\r\n            {children}\r\n        </TP>\r\n    )\r\n}\r\n    ","import LoginForm from \"./components/LoginForm\";\nimport RegisterForm from \"./components/RegisterForm\"\nimport Dashboard from \"./components/Dashboard\";\nimport { AuthProvider } from \"./firebaseThings/AuthContext\"\nimport { CssBaseline } from \"@mui/material\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\"\nimport PrivateRoute from \"./components/PrivateRoute\";\nimport { ThemeProvider } from \"./ThemeProvider\";\nfunction App() {\n  return (\n    <>\n      <CssBaseline></CssBaseline>\n      <Router>\n          <ThemeProvider>\n            <AuthProvider>\n              <Switch>\n                <PrivateRoute exact path=\"/\" exact component={Dashboard} />\n                <Route exact path=\"/signup\" component={RegisterForm} />\n                <Route exact path=\"/login\" component={LoginForm} />\n                <Route exact path=\"/react-chat/login\" component={LoginForm} />\n                <Route exact path=\"/react-chat/react-chat/login\" component={LoginForm} />\n\n              </Switch>\n            </AuthProvider>\n          </ThemeProvider>\n        </Router>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}