(this.webpackJsonpsocialapp=this.webpackJsonpsocialapp||[]).push([[0],{134:function(e,t,n){},148:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(49),i=n.n(r),s=(n(134),n(5)),o=n(0),j=n.n(o),u=n(4),b=n(16),l=n(24),O=n(53),d=n(194),h=n(195),x=n(196),p=n(188),f=n(198),g=n(199),m=n(190),v=n(191),w=n(79),y=n(109),k=n(27),S=Object(y.a)({apiKey:"AIzaSyD7rk9gUZhOxVAI_M60nqDcDxkpoObftdM",authDomain:"test-36302.firebaseapp.com",projectId:"test-36302",storageBucket:"test-36302.appspot.com",messagingSenderId:"537914014889",appId:"1:537914014889:web:efd2bd04f2eb48a262bdb8"}),C=Object(k.g)(S),I=Object(w.c)(S),U=n(2),z=new k.c,P=new k.a,T=(new k.b,a.a.createContext());function E(){return Object(c.useContext)(T)}function R(e){var t=e.children,n=Object(c.useState)(),a=Object(b.a)(n,2),r=a[0],i=a[1],s=Object(c.useState)(!0),o=Object(b.a)(s,2),j=o[0],u=o[1];Object(c.useEffect)((function(){return Object(k.h)(C,(function(e){i(e),u(!1)}))}),[]);var l={currentUser:r,login:function(e,t){return Object(k.k)(C,e,t)},signup:function(e,t){return Object(k.f)(C,e,t)},logout:function(){return Object(k.n)(C)},resetPassword:function(e){return Object(k.i)(C,e)},updateUserEmail:function(e){return Object(k.o)(r,e)},updateUserPassword:function(e){return Object(k.p)(r,e)},setAuthPersistence:function(e){e?Object(k.j)(C,k.d):Object(k.j)(C,k.e)},getPersistence:function(){return C.persistenceManager.persistence.type},googleSignInWithPopUp:function(){Object(k.l)(C,z)},googleSignInWithRedirect:function(){Object(k.m)(C,z)},facebookSignInWithPopUp:function(){Object(k.l)(C,P)},facebookSignInWithRedirect:function(){Object(k.m)(C,P)}};return Object(U.jsx)(T.Provider,{value:l,children:!j&&t})}var D=n(112),W=n.n(D),F=n(113),H=n.n(F),A=n(114),L=n.n(A);var M=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),i=Object(b.a)(r,2),s=i[0],o=i[1],w=E(),y=w.login,k=w.currentUser,S=w.setAuthPersistence,C=w.getPersistence,I=w.googleSignInWithRedirect,z=w.facebookSignInWithPopUp,P=Object(c.useState)(""),T=Object(b.a)(P,2),R=T[0],D=T[1],F=Object(c.useState)(!1),A=Object(b.a)(F,2),M=A[0],Z=A[1],B=Object(c.useState)(!1),N=Object(b.a)(B,2),J=N[0],K=N[1],$=Object(c.useRef)("");function q(){return(q=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,D(""),Z(!0),S($.current.checked),e.next=7,y(n,s);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),D({"auth/wrong-password":"Z\u0142e has\u0142o","auth/user-not-found":"U\u017cytkownik nie istnieje"}[e.t0.code]);case 12:Z(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){K(!/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(n))}),[n]),Object(U.jsxs)(U.Fragment,{children:[k&&Object(U.jsx)(l.a,{to:"/"}),Object(U.jsxs)(d.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",spacing:2,sx:{minWidth:"100vw",minHeight:"100vh"},children:[Object(U.jsx)(d.a,{item:!0,children:Object(U.jsxs)(h.a,{variant:"text",children:[Object(U.jsx)(x.a,{onClick:I,children:Object(U.jsx)(W.a,{})}),Object(U.jsx)(x.a,{onClick:z,children:Object(U.jsx)(H.a,{})}),Object(U.jsx)(x.a,{children:Object(U.jsx)(L.a,{})})]})}),Object(U.jsx)(d.a,{item:!0,children:Object(U.jsx)(p.a,{error:J,onChange:function(e){return a(e.target.value)},label:"Email",variant:"outlined",helperText:J&&"To nie wygl\u0105da jak email"})}),Object(U.jsx)(d.a,{item:!0,children:Object(U.jsx)(p.a,{error:s.length<8,onChange:function(e){return o(e.target.value)},type:"password",label:"Has\u0142o",variant:"outlined",helperText:s.length<8&&"Has\u0142o musi by\u0107 d\u0142u\u017csze"})}),Object(U.jsx)(d.a,{item:!0,children:Object(U.jsx)(x.a,{variant:"contained",disabled:M||J||s.length<8,onClick:function(e){return q.apply(this,arguments)},children:"Zaloguj"})}),Object(U.jsx)(d.a,{item:!0,children:Object(U.jsx)(f.a,{children:Object(U.jsx)(g.a,{control:Object(U.jsx)(m.a,{inputRef:$,defaultChecked:"LOCAL"===C()}),label:"Pami\u0119taj mnie"})})}),Object(U.jsx)(d.a,{item:!0,children:R&&Object(U.jsx)(v.a,{variant:"outlined",sx:{width:"100%"},severity:"error",children:R})}),Object(U.jsx)(d.a,{item:!0,children:Object(U.jsx)(O.b,{to:"/signup",style:{textDecoration:"none",color:"inherit","&:hover":{textDecoration:"underline"}},children:"Nie masz konta? Zarejestruj sie"})})]})]})},Z=n(3),B=n(41),N=n(12),J=n(13),K=n(64);var $=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),i=Object(b.a)(r,2),s=i[0],o=i[1],h=Object(c.useState)(""),w=Object(b.a)(h,2),y=w[0],k=w[1],S=E(),C=S.signup,I=S.currentUser,z=Object(c.useState)(""),P=Object(b.a)(z,2),T=P[0],R=P[1],D=Object(c.useState)(!1),W=Object(b.a)(D,2),F=W[0],H=W[1],A=Object(c.useState)(!0),L=Object(b.a)(A,2),M=L[0],$=L[1],q=Object(c.useRef)(""),G=function(e){Object(N.a)(n,e);var t=Object(J.a)(n);function n(){var e,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Co\u015b z\u0142ego sie sta\u0142o";Object(Z.a)(this,n);for(var a=arguments.length,r=new Array(a>1?a-1:0),i=1;i<a;i++)r[i-1]=arguments[i];return e=t.call.apply(t,[this].concat(r)),Error.captureStackTrace&&Error.captureStackTrace(Object(B.a)(e),n),e.code=c,e}return n}(Object(K.a)(Error));function V(){return(V=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,R(""),H(!0),q.current.checked){e.next=6;break}throw new G("Nie zgodzi\u0142e\u015b sie na regulamin");case 6:if(s==y){e.next=8;break}throw new G("Has\u0142a sie nie zgadzaj\u0105");case 8:return e.next=10,C(n,s);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),R(e.t0.code);case 15:H(!1);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){$(!/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(n))}),[n]),Object(U.jsxs)(U.Fragment,{children:[I&&Object(U.jsx)(l.a,{to:"/"}),Object(U.jsxs)(d.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",spacing:2,sx:{minWidth:"100vw",minHeight:"100vh"},children:[Object(U.jsx)(d.a,{item:!0,children:Object(U.jsx)(p.a,{error:M,onChange:function(e){return a(e.target.value)},label:"Email",variant:"outlined",helperText:M&&"To nie wygl\u0105da jak email"})}),Object(U.jsx)(d.a,{item:!0,children:Object(U.jsx)(p.a,{error:s.length<8,onChange:function(e){return o(e.target.value)},type:"password",label:"Has\u0142o",variant:"outlined",helperText:s.length<8&&"Has\u0142o musi by\u0107 d\u0142u\u017csze"})}),Object(U.jsx)(d.a,{item:!0,children:Object(U.jsx)(p.a,{error:y.length<8,onChange:function(e){return k(e.target.value)},type:"password",label:"Powt\xf3rz has\u0142o",variant:"outlined",helperText:y.length<8&&"Has\u0142o musi by\u0107 d\u0142u\u017csze"})}),Object(U.jsx)(d.a,{item:!0,children:Object(U.jsx)(x.a,{variant:"contained",disabled:F||M||s.length<8,onClick:function(e){return V.apply(this,arguments)},children:"Zarejestrujs"})}),Object(U.jsx)(d.a,{item:!0,children:Object(U.jsx)(f.a,{children:Object(U.jsx)(g.a,{control:Object(U.jsx)(m.a,{inputRef:q}),label:"Zgadzam sie na regulamin"})})}),T&&Object(U.jsx)(v.a,{severity:"error",children:T}),Object(U.jsxs)(d.a,{item:!0,children:["Masz ju\u017c konto? ",Object(U.jsx)(O.b,{to:"/login",children:"Zaloguj sie"})]})]})]})},q=n(202),G=n(203),V=n(200),Y=n(201),_=n(115),Q=n.n(_),X=n(50);var ee=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(c.useRef)(""),i=E().currentUser;function s(){return(s=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Object(X.a)(Object(X.b)(I,"messages"),{text:r.current.value,uid:i.uid,createdAt:Object(X.f)(),username:i.displayName,photoURL:i.photoURL,email:i.email});case 3:r.current.value="",document.getElementById("chat").scrollTop=document.getElementById("chat").scrollHeight;case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){Object(X.c)(Object(X.e)(Object(X.b)(I,"messages"),Object(X.d)("createdAt")),(function(e){a(e.docs.map((function(e){return e.data()})))}))}),[]),Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("div",{id:"chat",style:{display:"flex",flexDirection:"column",height:"70vh",overflowY:"auto"},children:n.map((function(e,t){return Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("p",{style:{width:"40vh",marginLeft:e.uid==i.uid?"auto":"0"},children:[e.text,"  U\u017cytkownik:",Object(U.jsx)("span",{style:{fontSize:"15px"},children:e.username||e.email})]},t)})}))}),Object(U.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginTop:"30px"},children:[Object(U.jsx)(p.a,{inputRef:r}),Object(U.jsx)(x.a,{onClick:function(e){return s.apply(this,arguments)},children:"Wy\u015blij"})]})]})};var te=function(){var e=E(),t=e.logout;return e.currentUser,Object(U.jsxs)("div",{children:[Object(U.jsx)(q.a,{position:"static",children:Object(U.jsxs)(G.a,{children:[Object(U.jsx)(Y.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:Object(U.jsx)(Q.a,{})}),Object(U.jsx)(V.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Messenger BK"}),Object(U.jsx)(x.a,{onClick:t,color:"inherit",children:"Wyloguj"})]})}),Object(U.jsx)(ee,{})]})},ne=n(187),ce=n(88),ae=n(116),re=["component"];function ie(e){var t=e.component,n=Object(ae.a)(e,re),c=E().currentUser;return Object(U.jsx)(l.b,Object(ce.a)(Object(ce.a)({},n),{},{render:function(e){return c?Object(U.jsx)(t,Object(ce.a)({},e)):Object(U.jsx)(l.a,{to:"/login"})}}))}var se=n(117),oe=n(193),je=n(57),ue=Object(se.a)({palette:{primary:{main:je.a[500],contrastText:"#fff"},secondary:{main:je.a[300]}},components:{MuiOutlinedInput:{styleOverrides:{root:{borderRadius:"15px"},notchedOutline:{borderColor:je.a[400]}}}}});function be(e){var t=e.children;return Object(U.jsx)(oe.a,{theme:ue,children:t})}var le=function(){var e,t;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(ne.a,{}),Object(U.jsx)(O.a,{basename:"/react-chat",children:Object(U.jsx)(be,{children:Object(U.jsx)(R,{children:Object(U.jsxs)(l.d,{children:[Object(U.jsx)(ie,(e={exact:!0,path:"/"},Object(s.a)(e,"exact",!0),Object(s.a)(e,"component",te),e)),Object(U.jsx)(ie,(t={exact:!0,path:"/react-chat"},Object(s.a)(t,"exact",!0),Object(s.a)(t,"component",te),t)),Object(U.jsx)(l.b,{exact:!0,path:"/signup",component:$}),Object(U.jsx)(l.b,{exact:!0,path:"/login",component:M}),Object(U.jsx)(l.b,{exact:!0,path:"/react-chat/login",component:M}),Object(U.jsx)(l.b,{exact:!0,path:"/react-chat/react-chat/login",component:M})]})})})})]})},Oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,204)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};i.a.render(Object(U.jsx)(a.a.StrictMode,{children:Object(U.jsx)(le,{})}),document.getElementById("root")),Oe()}},[[148,1,2]]]);
//# sourceMappingURL=main.36507b6f.chunk.js.map